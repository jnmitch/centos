#!/bin/bash

#################################################
# Set Variables                                 #
#################################################
    SETUPFILES="/mnt/github/jnmitch/centos/setup-files"
    export LOCALFILES="/mnt/github/jnmitch/centos/local-files"
    export DB_ROOT_PWD=$(< $LOCALFILES/password-mysql_root)

#################################################
# Local Shared Folders                          #
#################################################
# Auto-mount local shared folders on startup
    cat $LOCALFILES/settings-mount_local_folders >> /etc/fstab

#################################################
# Time                                          #
#################################################
# Time synchronization
    yum install -y ntp
    systemctl start ntpd
    systemctl enable ntpd

#################################################
# Network                                       #
#################################################
    chmod +x $SETUPFILES/setup-network
    bash $SETUPFILES/setup-network

#################################################
# Firewall                                      #
#################################################
    chmod +x $SETUPFILES/setup-firewall
    bash $SETUPFILES/setup-firewall

#################################################
# Webmin                                        #
#################################################
    chmod +x $SETUPFILES/setup-webmin
    bash $SETUPFILES/setup-webmin

#################################################
# MariaDB (MySQL)                               #
#################################################
    chmod +x $SETUPFILES/setup-mysql
    bash $SETUPFILES/setup-mysql

#################################################
# PHP                                           #
#################################################
    chmod +x $SETUPFILES/setup-php
    bash $SETUPFILES/setup-php

#################################################
# phpMyAdmin                                    #
#################################################
    chmod +x $SETUPFILES/setup-phpmyadmin
    bash $SETUPFILES/setup-phpmyadmin

#################################################
# Apache                                        #
#################################################
    chmod +x $SETUPFILES/setup-apache
    bash $SETUPFILES/setup-apache

# #################################################
# # Phabricator                                   #
# #################################################
#     chmod +x $SETUPFILES/setup-phabricator
#     bash $SETUPFILES/setup-phabricator
#
#################################################
# Unset Variables                               #
#################################################
    unset SETUPFILES
    unset LOCALFILES
    unset APACHE
    unset DB_ROOT_PWD

reboot
