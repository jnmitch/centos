#!/bin/bash

#################################################
# Shared Folders                                #
#################################################

# Auto-mount shared folders on startup
    echo "/Github               /mnt/github             vboxsf  defaults        0 0" >> /etc/fstab

#################################################
# Time                                          #
#################################################

# Timezone
    # timedatectl set-timezone America/Denver

# Time synchronization
    yum install -y ntp
    systemctl start ntpd
    systemctl enable ntpd

#################################################
# Networking                                    #
#################################################

# Network settings
    echo "PEERDNS=yes
PEERROUTES=yes
IPV6_PEERDNS=yes
IPV6_PEERROUTES=yes" >> /etc/sysconfig/network-scripts/ifcfg-en*

# Set hostname
    # echo "Please set the hostname (machineName machineName.domainName.ext): "
    # read input_hostname
    # echo "HOSTNAME=\"$input_hostname\"" >> /etc/sysconfig/network
    HOSTY=$(hostname) # during boot, CentOS will load /etc/hostname contents in kernel's hostname setting. Absent /etc/hostname, it will get name from /etc/sysconfig/network

# Get machine IP address
    IPADDY=$(hostname -I | cut -d" " -f 1)

# Add IP & hostname
    sed -i '1i\'"$IPADDY   $HOSTY" /etc/hosts
    systemctl restart network

# Set network for static IP
    # DNS1="172.16.1.21"
    # DOMAIN="2factor.net"
    # IPADDR="172.16.1.25"
    # PREFIX="24"
    # GATEWAY="172.16.1.254"
    # IPV6_PRIVACY="no"

#################################################
# Firewall                                      #
#################################################
    # sed -i 's/\r$//' /mnt/github/jnmitch/centos-7/setup-firewall
    chmod +x /mnt/github/jnmitch/centos/setup-firewall
    bash /mnt/github/jnmitch/centos/setup-firewall

#################################################
# Webmin                                        #
#################################################
    # sed -i 's/\r$//' /mnt/github/jnmitch/centos-7/setup-webmin
    chmod +x /mnt/github/jnmitch/centos/setup-webmin
    bash /mnt/github/jnmitch/centos/setup-webmin

# #################################################
# # MariaDB (MySQL)                               #
# #################################################
#     chmod +x setup-mysql
#     bash setup-mysql

# #################################################
# # Apache                                        #
# #################################################
#     chmod +x setup-apache
#     bash setup-apache

# #################################################
# # PHP                                           #
# #################################################

#     yum install -y 
#         php php-mysql  php-gd php-curl php-apc php-cli php-mbstring
#     #   php php-mysqli php-gd php-curl         php-cli php-mbstring php-common php-process

# #################################################
# # Phabricator                                   #
# #################################################
#     chmod +x setup-phabricator
#     bash setup-phabricator
#
